@using NaijaQuickFix.Models;
@model NaijaQuickFix.Helper.PagedData<Account>
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    @Html.Partial("../Partials/MetaPartial")
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js" type="text/javascript"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <title>Naija QuickFix Users | An Online Platform For Connecting All Nigerians To various Artisans</title>

    @Styles.Render("~/Content/css")
    @Styles.Render("~/Content/table.css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>

    @Html.Partial("../Partials/Loader")
    @Html.Partial("../Partials/DashboardPartial")
    <div class="admin-dashboard">
        @Html.Partial("../Partials/DashboardNavPartial")
        <div class="table-container main-view">
        <div class="card">
            <table class="table">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Phone</th>
                        <th>Email</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="data-list">
                    @foreach (var item in Model.Data.OrderBy(a => a.Id))
                    {
                        <tr id="item-@item.Id">
                            <td data-label="id">@item.Id</td>
                            <td data-label="FirstName">@item.FirstName, @item.LastName</td>
                            <td data-label="jobDescription">@item.Phone</td>
                            <td data-label="nin">@item.Email</td>
                            <td><a id="view" href="@Url.Action("ArtisanUsers", "Dashboard", new { Id = @item.Id })"><img src="../Images/view.png" class="view-btn" /></a></td>
                        </tr>
                    }
                </tbody>
            </table>
            @Html.Partial("../Paging/PagingPartial", new NaijaQuickFix.Models.Paging.PageModel(Model.CurrentPage, Model.NumberOfPages, "/dashboard/users?page="))
        </div>
    </div>
    </div>
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/Scripts/dashboard.js")

    <script type="text/javascript">
        console.log('All artisans Table');
        $(document).ready(function () {
            $('#user-table').DataTable();
        })
    </script>
</body>
</html>
